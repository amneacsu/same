!function(n){function t(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return n[e].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=n,t.c=r,t.p="/",t(0)}([function(n,t,r){"use strict";var e=r(1),i=r(2),o=r(3),u=11,c=12,f=0,a=0,l=function(n){return function(t){return Object.keys(n).every(function(r){return t[r]===n[r]})}},s=function(n){return n},d=function(n){return n.filter(s)},v=function(n,t){return n.find(l(t))},x=function(n){return e.grid.filter(l(n))},y=function(n){return~~(Math.random()*n)},h=function(n){return n.m=!0},g=function(n){return n.m=!1},m=function(n){return e.grid.splice(e.grid.indexOf(n),1)},p=function(n){return n.x+=1},E=function(n){return n.y+=1},O=function(n){return!v(e.grid,{x:n.x,y:n.y+1})},P=function(n){return x({x:n})},_=function(n){return x({y:n})},b=function(n,t){var r=y(5),e=!1;return{x:n,y:t,c:r,matched:e}},w=function(n){for(;n.y<c&&O(n);)E(n)},F=function(){for(var n=u;n>=2;n--)if(!P(n).length)for(var t=n-1;t>=1;t--)P(t).forEach(p)},M=function(){for(var n=c;n>=1;n--)_(n).forEach(w)},S=function B(){(0,i.render)((0,o.gameToCanvas)(e.grid,f,a)),window.requestAnimationFrame(B)},j=function(n){var t=x({c:n.c}),r=[v(t,{x:n.x,y:n.y+1}),v(t,{x:n.x,y:n.y-1}),v(t,{x:n.x+1,y:n.y}),v(t,{x:n.x-1,y:n.y})];return d(r)},C=function D(n){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return t.push(n),j(n).forEach(function(n){-1===t.indexOf(n)&&D(n,t)}),t},L=function(n){return n.length*(n.length-1)},k=function(n){var t=C(n);t.length>=2&&(f+=L(t),t.forEach(m),M(),F())},T=function(n){e.grid.forEach(g);var t=C(n);t.length>=2&&(t.forEach(h),a=L(t))},A=function(n){return function(t){var r=v(e.grid,(0,o.cellOffset)(t));r&&n(r,t)}};i.canvas.addEventListener("click",A(k)),i.canvas.addEventListener("click",A(T)),i.canvas.addEventListener("mousemove",A(T)),window.addEventListener("load",S);for(var I=1;c>=I;I++)for(var q=1;u>=q;q++)e.grid.push(b(q,I))},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[];t.grid=r},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#8C3","#FD0","#F0E","#4AF","#F04"],e=2*Math.PI,i=function(){return a.clearRect(0,0,f.width,f.height)},o=function(n){a.fillStyle="#432",a.fillText(n,5,610)},u=function(n){a.fillStyle=r[n.fillStyle],c(n.x,n.y,n.radius)},c=function(n,t,r){a.beginPath(),a.arc(n,t,r,0,e,!1),a.closePath(),a.fill()},f=t.canvas=document.getElementById("same"),a=t.context=f.getContext("2d");a.font="24px sans-serif";t.render=function(n){i(),n.cells.forEach(u),o(n.score)}},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=48,e=function(n){var t=(n.x-.5)*r,e=(n.y-.5)*r,i=r*(n.m?.25:.4),o=n.c;return{x:t,y:e,radius:i,fillStyle:o}};t.gameToCanvas=function(n,t,r){return{cells:n.map(e),score:"Score: "+t+(r>0?" + "+r:"")}},t.cellOffset=function(n){return{x:~~(n.offsetX/r)+1,y:~~(n.offsetY/r)+1}}}]);
//# sourceMappingURL=same.js.map