{"version":3,"sources":["webpack:///same.js","webpack:///webpack/bootstrap 076f864cc4afcbaef3be","webpack:///./src/same.js","webpack:///./src/game.js","webpack:///./src/canvas.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_game","_game2","_canvas","width","height","score","bonus","hasProps","props","cell","Object","keys","every","prop","self","item","compact","list","filter","find","rand","b","Math","random","match","unmatch","remove","splice","indexOf","moveRight","x","moveDown","y","spaceBelow","column","row","randomCell","matched","fall","collapseColumns","length","x2","forEach","applyGravity","tick","render","window","requestAnimationFrame","neighbours","cells","n","matchCells","arguments","undefined","push","points","click","move","handle","action","e","cellOffset","canvas","addEventListener","defineProperty","value","grid","cellSize","fills","twoPI","PI","erase","context","clearRect","drawScore","fillStyle","fillText","drawCell","scale","circle","radius","beginPath","arc","closePath","fill","document","getElementById","getContext","font","offsetX","offsetY"],"mappings":"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","file":"same.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _game = __webpack_require__(1);\n\t\n\tvar _game2 = _interopRequireDefault(_game);\n\t\n\tvar _canvas = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar width = 11,\n\t    height = 12;\n\t\n\tvar score = 0,\n\t    bonus = 0;\n\t\n\tvar a = function a() {\n\t  return null;\n\t};\n\t\n\tvar hasProps = function hasProps(props) {\n\t  return function (cell) {\n\t    return Object.keys(props).every(function (prop) {\n\t      return cell[prop] === props[prop];\n\t    });\n\t  };\n\t};\n\tvar self = function self(item) {\n\t  return item;\n\t};\n\tvar compact = function compact(list) {\n\t  return list.filter(self);\n\t};\n\tvar find = function find(list, props) {\n\t  return list.find(hasProps(props));\n\t};\n\tvar filter = function filter(props) {\n\t  return _game2.default.filter(hasProps(props));\n\t};\n\tvar rand = function rand(b) {\n\t  return ~ ~(Math.random() * b);\n\t};\n\tvar match = function match(cell) {\n\t  return cell.m = true;\n\t};\n\tvar unmatch = function unmatch(cell) {\n\t  return cell.m = false;\n\t};\n\tvar remove = function remove(cell) {\n\t  return _game2.default.splice(_game2.default.indexOf(cell), 1);\n\t};\n\tvar moveRight = function moveRight(cell) {\n\t  return cell.x += 1;\n\t};\n\tvar moveDown = function moveDown(cell) {\n\t  return cell.y += 1;\n\t};\n\t\n\tvar spaceBelow = function spaceBelow(cell) {\n\t  return !find(_game2.default, { x: cell.x, y: cell.y + 1 });\n\t};\n\tvar column = function column(x) {\n\t  return filter({ x: x });\n\t};\n\tvar row = function row(y) {\n\t  return filter({ y: y });\n\t};\n\t\n\tvar randomCell = function randomCell(x, y) {\n\t  var c = rand(5),\n\t      matched = false;\n\t  return { x: x, y: y, c: c, matched: matched };\n\t};\n\t\n\tvar fall = function fall(cell) {\n\t  while (cell.y < height && spaceBelow(cell)) {\n\t    moveDown(cell);\n\t  }\n\t};\n\t\n\tvar collapseColumns = function collapseColumns() {\n\t  for (var x = width; x >= 2; x--) {\n\t    if (column(x).length) continue;\n\t\n\t    for (var x2 = x - 1; x2 >= 1; x2--) {\n\t      column(x2).forEach(moveRight);\n\t    }\n\t  }\n\t};\n\t\n\tvar applyGravity = function applyGravity() {\n\t  for (var y = height; y >= 1; y--) {\n\t    row(y).forEach(fall);\n\t  }\n\t};\n\t\n\tvar tick = function tick() {\n\t  (0, _canvas.render)(_game2.default, score, bonus);\n\t  window.requestAnimationFrame(tick);\n\t};\n\t\n\tvar neighbours = function neighbours(cell) {\n\t  var cells = filter({ c: cell.c });\n\t\n\t  var n = [find(cells, { x: cell.x, y: cell.y + 1 }), find(cells, { x: cell.x, y: cell.y - 1 }), find(cells, { x: cell.x + 1, y: cell.y }), find(cells, { x: cell.x - 1, y: cell.y })];\n\t\n\t  return compact(n);\n\t};\n\t\n\tvar matchCells = function matchCells(cell) {\n\t  var list = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\t\n\t  list.push(cell);\n\t\n\t  neighbours(cell).forEach(function (c) {\n\t    if (list.indexOf(c) === -1) matchCells(c, list);\n\t  });\n\t\n\t  return list;\n\t};\n\t\n\tvar points = function points(matched) {\n\t  return matched.length * (matched.length - 1);\n\t};\n\t\n\tvar click = function click(cell) {\n\t  var matched = matchCells(cell);\n\t\n\t  if (matched.length >= 2) {\n\t    score += points(matched);\n\t    matched.forEach(remove);\n\t    applyGravity();\n\t    collapseColumns();\n\t  }\n\t};\n\t\n\tvar move = function move(cell) {\n\t  _game2.default.forEach(unmatch);\n\t  var matched = matchCells(cell);\n\t\n\t  if (matched.length >= 2) {\n\t    matched.forEach(match);\n\t    bonus = points(matched);\n\t  }\n\t};\n\t\n\tvar handle = function handle(action) {\n\t  return function (e) {\n\t    var cell = find(_game2.default, (0, _canvas.cellOffset)(e));\n\t    cell && action(cell, e);\n\t  };\n\t};\n\t\n\t_canvas.canvas.addEventListener('click', handle(click));\n\t_canvas.canvas.addEventListener('click', handle(move));\n\t_canvas.canvas.addEventListener('mousemove', handle(move));\n\twindow.addEventListener('load', tick);\n\t\n\tfor (var y = 1; y <= height; y++) {\n\t  for (var x = 1; x <= width; x++) {\n\t    _game2.default.push(randomCell(x, y));\n\t  }\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar grid = [];\n\t\n\texports.grid = grid;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar cellSize = 48;\n\tvar fills = ['#8C3', '#FD0', '#F0E', '#4AF', '#F04'];\n\tvar twoPI = 2 * Math.PI;\n\t\n\tvar erase = function erase() {\n\t  return context.clearRect(0, 0, canvas.width, canvas.height);\n\t};\n\t\n\tvar drawScore = function drawScore(score, bonus) {\n\t  context.fillStyle = '#432';\n\t  context.fillText('Score: ' + score + (bonus > 0 ? ' + ' + bonus : ''), 5, 610);\n\t};\n\t\n\tvar drawCell = function drawCell(cell) {\n\t  context.fillStyle = fills[cell.c];\n\t\n\t  var x = (cell.x - 0.5) * cellSize;\n\t  var y = (cell.y - 0.5) * cellSize;\n\t  var scale = cell.m ? 0.25 : 0.4;\n\t\n\t  circle(x, y, cellSize * scale);\n\t};\n\t\n\tvar circle = function circle(x, y, radius) {\n\t  context.beginPath();\n\t  context.arc(x, y, radius, 0, twoPI, false);\n\t  context.closePath();\n\t  context.fill();\n\t};\n\t\n\tvar canvas = exports.canvas = document.getElementById('same');\n\tvar context = exports.context = canvas.getContext('2d');\n\tcontext.font = '24px sans-serif';\n\t\n\tvar render = exports.render = function render(grid, score, bonus) {\n\t  erase();\n\t  grid.forEach(drawCell);\n\t  drawScore(score, bonus);\n\t};\n\t\n\tvar cellOffset = exports.cellOffset = function cellOffset(e) {\n\t  return {\n\t    x: ~ ~(e.offsetX / cellSize) + 1,\n\t    y: ~ ~(e.offsetY / cellSize) + 1\n\t  };\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** same.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 076f864cc4afcbaef3be\n **/","import grid from './game';\n\nconst\n  width = 11,\n  height = 12;\n\nlet score = 0, bonus = 0;\n\nimport { canvas, context, render, cellOffset } from './canvas';\n\nconst a = () => null;\n\nconst hasProps = (props) => (cell) => Object.keys(props).every((prop) => cell[prop] === props[prop]);\nconst self = (item) => item;\nconst compact = (list) => list.filter(self);\nconst find = (list, props) => list.find(hasProps(props));\nconst filter = (props) => grid.filter(hasProps(props));\nconst rand = (b) => ~~(Math.random() * b);\nconst match = (cell) => cell.m = true;\nconst unmatch = (cell) => cell.m = false;\nconst remove = (cell) => grid.splice(grid.indexOf(cell), 1);\nconst moveRight = (cell) => cell.x += 1;\nconst moveDown = (cell) => cell.y += 1;\n\nconst spaceBelow = (cell) => !find(grid, {x: cell.x, y: cell.y + 1});\nconst column = (x) => filter({x});\nconst row = (y) => filter({y});\n\nconst randomCell = (x, y) => {\n  let c = rand(5), matched = false;\n  return {x, y, c, matched};\n};\n\nconst fall = (cell) => {\n  while (cell.y < height && spaceBelow(cell)) moveDown(cell);\n};\n\nconst collapseColumns = () => {\n  for (let x = width; x >= 2; x--) {\n    if (column(x).length) continue;\n\n    for (let x2 = x - 1; x2 >= 1; x2--) {\n      column(x2).forEach(moveRight);\n    }\n  }\n};\n\nconst applyGravity = () => {\n  for (let y = height; y >= 1; y--) {\n    row(y).forEach(fall);\n  }\n}\n\nconst tick = function() {\n  render(grid, score, bonus);\n  window.requestAnimationFrame(tick);\n}\n\nconst neighbours = (cell) => {\n  let cells = filter({c: cell.c});\n\n  let n = [\n    find(cells, {x: cell.x, y: cell.y + 1}),\n    find(cells, {x: cell.x, y: cell.y - 1}),\n    find(cells, {x: cell.x + 1, y: cell.y}),\n    find(cells, {x: cell.x - 1, y: cell.y})\n  ];\n\n  return compact(n);\n}\n\nconst matchCells = function(cell, list = []) {\n  list.push(cell);\n\n  neighbours(cell).forEach(function(c) {\n    if (list.indexOf(c) === -1) matchCells(c, list);\n  });\n\n  return list;\n}\n\nconst points = (matched) => matched.length * (matched.length - 1);\n\nconst click = cell => {\n  let matched = matchCells(cell);\n\n  if (matched.length >= 2) {\n    score += points(matched);\n    matched.forEach(remove);\n    applyGravity();\n    collapseColumns();\n  }\n}\n\nconst move = cell => {\n  grid.forEach(unmatch);\n  let matched = matchCells(cell);\n\n  if (matched.length >= 2) {\n    matched.forEach(match);\n    bonus = points(matched);\n  }\n}\n\nconst handle = action => {\n  return e => {\n    let cell = find(grid, cellOffset(e));\n    cell && action(cell, e);\n  }\n}\n\ncanvas.addEventListener('click', handle(click));\ncanvas.addEventListener('click', handle(move));\ncanvas.addEventListener('mousemove', handle(move));\nwindow.addEventListener('load', tick);\n\nfor (let y = 1; y <= height; y++) {\n  for (let x = 1; x <= width; x++) {\n    grid.push(randomCell(x, y));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/same.js\n **/","const grid = [];\n\nexport {\n  grid\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/game.js\n **/","const cellSize = 48;\nconst fills = ['#8C3', '#FD0', '#F0E', '#4AF', '#F04'];\nconst twoPI = 2 * Math.PI;\n\nconst erase = () => context.clearRect(0, 0, canvas.width, canvas.height);\n\nconst drawScore = (score, bonus) => {\n  context.fillStyle = '#432';\n  context.fillText(`Score: ${score}` + (bonus > 0 ? ` + ${bonus}` : ''), 5, 610);\n}\n\nconst drawCell = (cell) => {\n  context.fillStyle = fills[cell.c];\n\n  let x = (cell.x - 0.5) * cellSize;\n  let y = (cell.y - 0.5) * cellSize;\n  let scale = cell.m ? 0.25 : 0.4;\n\n  circle(x, y, cellSize * scale);\n};\n\nconst circle = (x, y, radius) => {\n  context.beginPath();\n  context.arc(x, y, radius, 0, twoPI, false);\n  context.closePath();\n  context.fill();\n}\n\nexport const canvas = document.getElementById('same');\nexport const context = canvas.getContext('2d');\ncontext.font = '24px sans-serif';\n\nexport const render = (grid, score, bonus) => {\n  erase();\n  grid.forEach(drawCell);\n  drawScore(score, bonus);\n};\n\nexport const cellOffset = function(e) {\n  return {\n    x: ~~(e.offsetX / cellSize) + 1,\n    y: ~~(e.offsetY / cellSize) + 1\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/canvas.js\n **/"],"sourceRoot":""}